<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'assets/css/lesson.css' %}" />
</head>

<body>
    <div class="text-center" style="display: flex; justify-content: center;">
        <img src="{{ lesson.get_image }}" style="width: 300px; height: 200px;" class="rounded" alt="...">
      </div>
    
    
    <!-- <div class="lesson-test">
        {% for test in tests %}
        <h2>Туура жоопту танда</h2>
        <span class="badge text-bg-info">{{ test }}</span>
        <br>
        
        <div class="buttons-row">
        <button type="button" class="btn btn-outline-secondary">{{ test.var1 }}</button>
        <button type="button" class="btn btn-outline-secondary">{{ test.var2 }}</button>
        <button type="button" class="btn btn-outline-secondary">{{ test.var3 }}</button>
        </div>
        {% endfor %}
    </div> -->



    <!-- <div class="lesson-test">
        {% for test in tests %}
        <div id="test{{ test.id }}" class="test-container {% if forloop.first %}active{% endif %}">
            <h2>Туура жоопту танда</h2>
            <span class="badge text-bg-info">{{ test }}</span>
            <br>
            
            <div class="buttons-row">
                <button type="button" class="btn btn-outline-secondary">{{ test.var1 }}</button>
                <button type="button" class="btn btn-outline-secondary">{{ test.var2 }}</button>
                <button type="button" class="btn btn-outline-secondary">{{ test.var3 }}</button>
            </div>
        </div>
        {% endfor %}
    </div> -->


    <div class="lesson-test">
        {% for test in tests %}
        <div id="test{{ test.id }}" class="test-container {% if forloop.first %}active{% endif %}">
            <h2>Туура жоопту танда</h2>
            <span class="badge text-bg-info">{{ test }}</span>
            <br>
            
            <div class="buttons-row">
                <button type="button" class="btn btn-outline-secondary" data-correct-answer="{{ test.correct_answer }}">{{ test.var1 }}</button>
                <button type="button" class="btn btn-outline-secondary" data-correct-answer="{{ test.correct_answer }}">{{ test.var2 }}</button>
                <button type="button" class="btn btn-outline-secondary" data-correct-answer="{{ test.correct_answer }}">{{ test.var3 }}</button>
            </div>
        </div>
        {% endfor %}
    </div>

    <style>
        .correct-answer {
            background-color: green !important; /* Зеленый цвет для правильного ответа */
        }
        .incorrect-answer {
            background-color: red !important; /* Красный цвет для неправильного ответа */
        }
    </style>
    
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
    $(document).ready(function() {
        // При клике на кнопки ответов
        $('.lesson-test .buttons-row button').click(function() {
            var currentTest = $(this).closest('.test-container');
            var nextTest = currentTest.next('.test-container');
            
            // Скрываем текущий тест и показываем следующий
            currentTest.removeClass('active');
            nextTest.addClass('active');

            // Получаем данные из атрибутов кнопки
            var correctAnswer = $(this).data('correct-answer');
            var chosenAnswer = $(this).text();

            // Проверяем правильность ответа
            if (chosenAnswer === correctAnswer) {
                $(this).addClass('correct-answer').removeClass('incorrect-answer');
            } else {
                $(this).addClass('incorrect-answer').removeClass('correct-answer');
            }

        });
    });
    </script>





</body>
</html>